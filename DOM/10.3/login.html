<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
</head>
<body class="bg-gray-100 flex justify-center items-center h-screen overflow-auto">
    <form class="p-4 w-96 flex flex-col rounded-xl bg-white">

        <label for="email">email</label>
        <input class="border mb-4 py-3 px-4 border-gray-300 rounded-md input" placeholder="email" id="email" type="text">

        <label for="password">password</label>
        <input class="border mb-1 py-3 px-4 border-gray-300 rounded-md input" placeholder="password" id="password" type="password">
        
        <div class="flex justify-between mb-4">
            <a class="font-bold text-green-400" href="#">Нууц үг сэргээх</a>
            <a class="font-bold text-green-400" href="#">Бүртгүүлэх</a>
        </div>

        <input id="submit" class="bg-green-400 text-white py-3 px-4 rounded-md" type="submit" value="Бүртгэх">

    </form>

    <script type="module">
        const submit = document.querySelector('#submit');
        const email = document.querySelector('#email');
        const password = document.querySelector('#password');

        import {loginController} from './controller.js';

        let users;



        window.addEventListener('load', () => {
            if(localStorage['currentUser']){
                location.href = './account.html'
            }

            if(localStorage['users']){
                users = JSON.parse(localStorage['users'])
            }
        })


        submit.addEventListener('click', e => {
            e.preventDefault();
            loginController(users, email.value, password.value)
        })
    </script>
</body>

</html>
